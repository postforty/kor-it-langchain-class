# 파이썬 환경 사용하기

> 원문: <https://docs.astral.sh/uv/pip/environments/>

각 파이썬 설치에는 파이썬이 사용될 때 활성화되는 환경이 있습니다. 패키지는 파이썬 스크립트에서 모듈을 사용할 수 있도록 환경에 설치될 수 있습니다. 일반적으로 파이썬 설치의 환경을 수정하지 않는 것이 가장 좋은 방법으로 간주됩니다. 이는 운영 체제와 함께 제공되는 파이썬 설치의 경우 특히 중요하며, 종종 패키지 자체를 관리합니다. 가상 환경은 파이썬 설치 환경에서 패키지를 격리하는 가벼운 방법입니다. `pip`와 달리 uv는 기본적으로 가상 환경 사용을 요구합니다.

## 가상 환경 생성

uv는 가상 환경 생성을 지원합니다. 예를 들어, `.venv`에 가상 환경을 생성하려면:

```bash
uv venv
```

특정 이름이나 경로를 지정할 수 있습니다. 예를 들어, `my-name`에 가상 환경을 생성하려면:

```bash
uv venv my-name
```

파이썬 버전을 요청할 수 있습니다. 예를 들어, 파이썬 3.11로 가상 환경을 생성하려면:

```bash
uv venv --python 3.11
```

이는 요청된 파이썬 버전이 시스템에서 사용 가능해야 함을 의미합니다. 그러나 사용 불가능한 경우 uv가 자동으로 파이썬을 다운로드할 것입니다. 자세한 내용은 [파이썬 버전](../../concepts/python-versions/) 문서를 참조하십시오.

## 가상 환경 사용

기본 가상 환경 이름을 사용할 경우, uv는 후속 호출 시 자동으로 가상 환경을 찾아 사용합니다.

```bash
uv venv

# 새 가상 환경에 패키지 설치
uv pip install ruff
```

가상 환경을 "활성화"하여 해당 패키지를 사용할 수 있습니다:

```powershell
.venv\Scripts\activate
```

> **참고**
> Unix의 기본 활성화 스크립트는 `sh`, `bash`, `zsh`와 같은 POSIX 호환 셸용입니다. 일반적인 대체 셸을 위한 추가 활성화 스크립트가 있습니다.
>
> ```
>
> ```

## 환경 비활성화

가상 환경을 종료하려면 `deactivate` 명령을 사용하십시오:

```bash
deactivate
```

## 임의의 파이썬 환경 사용

uv는 파이썬에 종속성이 없으므로, 자체 환경이 아닌 다른 가상 환경에 설치할 수 있습니다. 예를 들어, `VIRTUAL_ENV=/path/to/venv`를 설정하면 uv가 설치된 위치와 관계없이 `/path/to/venv`에 설치됩니다. `VIRTUAL_ENV`가 [PEP 405 호환](https://peps.python.org/pep-0405/#specification) 가상 환경이 아닌 디렉터리로 설정된 경우 무시됩니다.

uv는 또한 `uv pip sync` 또는 `uv pip install`에 제공되는 `--python` 인수를 사용하여 임의의, 심지어 가상 환경이 아닌 환경에도 설치할 수 있습니다. 예를 들어, `uv pip install --python /path/to/python`은 `/path/to/python` 인터프리터에 연결된 환경에 설치됩니다.

편의를 위해 `uv pip install --system`은 시스템 파이썬 환경에 설치합니다. `--system`을 사용하는 것은 대략 `uv pip install --python $(which python)`과 동일하지만, 가상 환경에 연결된 실행 파일은 건너뛰어진다는 점에 유의하십시오. 종속성 관리를 위해 가상 환경 사용을 일반적으로 권장하지만, `--system`은 지속적 통합 및 컨테이너화된 환경에서 적절합니다.

`--system` 플래그는 시스템 환경을 변경하도록 선택하는 데도 사용됩니다. 예를 들어, `--python` 인수는 파이썬 버전(예: `--python 3.12`)을 요청하는 데 사용될 수 있으며, uv는 요청을 충족하는 인터프리터를 검색합니다. uv가 시스템 인터프리터(예: `/usr/lib/python3.12`)를 찾으면, 이 비가상 파이썬 환경의 수정을 허용하기 위해 `--system` 플래그가 필요합니다. `--system` 플래그가 없으면 uv는 가상 환경에 없는 모든 인터프리터를 무시합니다. 반대로, `--system` 플래그가 제공되면 uv는 가상 환경에 _있는_ 모든 인터프리터를 무시합니다.

다양한 플랫폼 및 배포판에서 시스템 파이썬에 설치하는 것은 악명이 높을 정도로 어렵습니다. uv는 일반적인 경우를 지원하지만, 모든 경우에 작동하지는 않습니다. 예를 들어, 파이썬 3.10 이전의 Debian에서 시스템 파이썬에 설치하는 것은 [배포판의 `distutils` 패치(그러나 `sysconfig`는 아님)](https://ffy00.github.io/blog/02-python-debian-and-the-install-locations/)로 인해 지원되지 않습니다. 항상 가상 환경 사용을 권장하지만, uv는 이러한 비표준 환경에서는 가상 환경이 필수라고 간주합니다.

uv 자체가 파이썬 환경에 설치된 경우(예: `pip` 사용), 다른 환경을 수정하는 데 여전히 사용될 수 있습니다. 그러나 `python -m uv`로 호출될 경우, uv는 부모 인터프리터의 환경을 기본으로 사용합니다. 파이썬을 통해 uv를 호출하면 시작 오버헤드가 추가되므로 일반적인 사용에는 권장되지 않습니다.

uv 자체는 파이썬에 의존하지 않지만, (1) 환경에 종속성을 설치하고 (2) 소스 배포를 빌드하려면 파이썬 환경을 찾아야 합니다.

## 파이썬 환경 탐색

`uv pip sync` 또는 `uv pip install`과 같이 환경을 변경하는 명령을 실행할 때, uv는 다음 순서로 가상 환경을 검색합니다:

- `VIRTUAL_ENV` 환경 변수를 기반으로 활성화된 가상 환경.
- `CONDA_PREFIX` 환경 변수를 기반으로 활성화된 Conda 환경.
- 현재 디렉터리 또는 가장 가까운 상위 디렉터리의 `.venv`에 있는 가상 환경.

가상 환경을 찾을 수 없으면 uv는 `uv venv`를 통해 현재 디렉터리에 가상 환경을 생성하도록 사용자에게 메시지를 표시합니다.

`--system` 플래그가 포함되면 uv는 가상 환경 검색을 건너뛰고 설치된 파이썬 버전을 찾습니다. 마찬가지로, `uv pip compile`과 같이 환경을 변경하지 않는 명령을 실행할 때 uv는 가상 환경을 *요구*하지 않지만, 파이썬 인터프리터는 여전히 필요합니다. 설치된 파이썬 버전 탐색에 대한 자세한 내용은 [파이썬 탐색](../../concepts/python-versions/#discovery-of-python-versions) 문서를 참조하십시오.
